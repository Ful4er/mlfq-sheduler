# Моделирование планировщика MLFQ (Multi-Level Feedback Queue)

Проект реализует симулятор многоуровневой очереди с обратной связью (MLFQ) на языке C, демонстрирующий работу планировщика задач в операционных системах.

## Возможности

- **Многоуровневая очередь** с настраиваемым количеством уровней (по умолчанию: 4)
- Поддержка алгоритмов планирования:
  - **Round Robin (RR)** - циклическое планирование
  - **FCFS (First-Come-First-Served)** - в порядке поступления
- **Старение потоков** для предотвращения голодания
- **Блокировка потоков** на событиях (дисковый ввод-вывод, сетевые операции, ввод с клавиатуры)
- **Квантование времени выполнения** с настраиваемыми параметрами
- **Система логирования** с записью в несколько файлов
- **Сбор статистики** для анализа производительности

## Требования

- POSIX-совместимая система (Linux, macOS)
- Компилятор C (gcc, clang)
- Утилита Make (опционально)

## Сборка и запуск

1. Компиляция программы:
```bash
gcc mlfq_scheduler.c -o mlfq -lpthread
```
2. Запуск программы:
 - Вывод в консоль:
```bash
./mlfq -c <количество_потоков> <имя_файла>
```
 - Вывод в логи
```bash
./mlfq -e <количество_потоков> <имя_файла>
```
## Параметры запуска

`-c` - вывод в консоль  
`-e` - вывод в файл журнала  
`<количество_потоков>` - число потоков для симуляции (1-50)  
`<имя_файла>` - файл для чтения потоками  

## Настройка

Во время выполнения программа запросит:
1. Выбор типа планировщика (RR/FCFS) для каждого уровня очереди
2. Назначение квантов времени для уровней с RR
3. Распределение потоков по очередям (вручную или случайное)

## Логирование

Программа создает несколько файлов журналов:
- `error.log` - ошибки выполнения
- `execution.log` - ход выполнения программы
- `text.log` - детальная информация о работе потоков

## Статистика

По завершении работы выводится статистика:
- Время ожидания каждого потока
- Количество блокировок
- Общее время выполнения
- Уровень очереди

## Особенности реализации

- Потоки имитируют чтение файла с возможностью блокировки
- Динамическое изменение приоритетов потоков
- Защита ресурсов с помощью мьютексов
- Точное измерение времени выполнения
